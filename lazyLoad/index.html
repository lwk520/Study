<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
<style>
	body,ul{
		padding: 0;
		margin: 0;
	}
	.wrap{
		margin: 0 auto;
		width: 780px;
	}
	.wrap:after{
		content: '';
		display: block;
		clear: both;
	}
	li{
		list-style: none;
		float: left;
		margin: 20px;
	}
	a{
		display: block;
	}
	.wrap img{
		width: 300px;
		height:300px;

	}
</style>
<script src="//code.jquery.com/jquery-1.9.1.min.js"></script>
</head>
<body>
	<ul class="wrap">
		<li><a href="#">
			<img src="http://img.zcool.cn/community/01443f564897a432f87512f6eed753.gif" ready-src='http://cdn.jirengu.com/book.jirengu.com/img/2.jpg' alt="">
		</a></li>
		<li><a href="#">
			<img src="http://img.zcool.cn/community/01443f564897a432f87512f6eed753.gif" ready-src='http://cdn.jirengu.com/book.jirengu.com/img/1.jpg' alt="">
		</a></li>
		<li><a href="#">
			<img src="http://img.zcool.cn/community/01443f564897a432f87512f6eed753.gif" ready-src='http://cdn.jirengu.com/book.jirengu.com/img/3.jpg' alt="">
		</a></li>
		<li><a href="#">
			<img src="http://img.zcool.cn/community/01443f564897a432f87512f6eed753.gif" ready-src='http://cdn.jirengu.com/book.jirengu.com/img/4.jpg' alt="">
		</a></li>
		<li><a href="#">
			<img src="http://img.zcool.cn/community/01443f564897a432f87512f6eed753.gif" ready-src='http://cdn.jirengu.com/book.jirengu.com/img/5.jpg' alt="">
		</a></li>
		<li><a href="#">
			<img src="http://img.zcool.cn/community/01443f564897a432f87512f6eed753.gif" ready-src='http://cdn.jirengu.com/book.jirengu.com/img/6.jpg' alt="">
		</a></li>
		<li><a href="#">
			<img src="http://img.zcool.cn/community/01443f564897a432f87512f6eed753.gif" ready-src='http://cdn.jirengu.com/book.jirengu.com/img/7.jpg' alt="">
		</a></li>
		<li><a href="#">
			<img src="http://img.zcool.cn/community/01443f564897a432f87512f6eed753.gif" ready-src='http://cdn.jirengu.com/book.jirengu.com/img/8.jpg' alt="">
		</a></li>
		<li><a href="#">
			<img src="http://img.zcool.cn/community/01443f564897a432f87512f6eed753.gif" ready-src='http://cdn.jirengu.com/book.jirengu.com/img/9.jpg' alt="">
		</a></li>
		<li><a href="#">
			<img src="http://img.zcool.cn/community/01443f564897a432f87512f6eed753.gif" ready-src='http://cdn.jirengu.com/book.jirengu.com/img/10.jpg' alt="">
		</a></li>
		<li><a href="#">
			<img src="http://img.zcool.cn/community/01443f564897a432f87512f6eed753.gif" ready-src='http://cdn.jirengu.com/book.jirengu.com/img/11.jpg' alt="">
		</a></li>
		<li><a href="#">
			<img src="http://img.zcool.cn/community/01443f564897a432f87512f6eed753.gif" ready-src='http://cdn.jirengu.com/book.jirengu.com/img/12.jpg' alt="">
		</a></li>
		<li><a href="#">
			<img src="http://img.zcool.cn/community/01443f564897a432f87512f6eed753.gif" ready-src='http://cdn.jirengu.com/book.jirengu.com/img/13.jpg' alt="">
		</a></li>
		<li><a href="#">
			<img src="http://img.zcool.cn/community/01443f564897a432f87512f6eed753.gif" ready-src='http://cdn.jirengu.com/book.jirengu.com/img/14.jpg' alt="">
		</a></li>
		<li><a href="#">
			<img src="http://img.zcool.cn/community/01443f564897a432f87512f6eed753.gif" ready-src='http://cdn.jirengu.com/book.jirengu.com/img/15.jpg' alt="">
		</a></li>
		<li><a href="#">
			<img src="http://img.zcool.cn/community/01443f564897a432f87512f6eed753.gif" ready-src='http://cdn.jirengu.com/book.jirengu.com/img/16.jpg' alt="">
		</a></li>
		<li><a href="#">
			<img src="http://img.zcool.cn/community/01443f564897a432f87512f6eed753.gif" ready-src='http://cdn.jirengu.com/book.jirengu.com/img/17.jpg' alt="">
		</a></li>
		<li><a href="#">
			<img src="http://img.zcool.cn/community/01443f564897a432f87512f6eed753.gif" ready-src='http://cdn.jirengu.com/book.jirengu.com/img/18.jpg' alt="">
		</a></li>
		<li><a href="#">
			<img src="http://img.zcool.cn/community/01443f564897a432f87512f6eed753.gif" ready-src='http://cdn.jirengu.com/book.jirengu.com/img/19.jpg' alt="">
		</a></li>
		<li><a href="#">
			<img src="http://img.zcool.cn/community/01443f564897a432f87512f6eed753.gif" ready-src='http://cdn.jirengu.com/book.jirengu.com/img/20.jpg' alt="">
		</a></li>
		<li><a href="#">
			<img src="http://img.zcool.cn/community/01443f564897a432f87512f6eed753.gif" ready-src='http://cdn.jirengu.com/book.jirengu.com/img/21.jpg' alt="">
		</a></li>
		<li><a href="#">
			<img src="http://img.zcool.cn/community/01443f564897a432f87512f6eed753.gif" ready-src='http://cdn.jirengu.com/book.jirengu.com/img/22.jpg' alt="">
		</a></li>
	</ul>
<script>
	//console.log($('.wrap img').length)
	
	lazyLoad();

	$(window).on('scroll',function(){
		
		lazyLoad();

	})

	function lazyLoad(){
		$('.wrap li img').not('.active').each(function(){
			if(isVisibility($(this))){	
				imgLoad($(this))
			}
		})
	}

	function imgLoad($node){
		$node.each(function(){
			var readySrc=$(this).attr('ready-src');
			$(this).attr('src',readySrc);
			$(this).addClass('active');
		})
	}

	function isVisibility($node){
		var screenWidth=$(window).height();
		var scrollTop=$(window).scrollTop();
		var offsetTop=$node.offset().top;
		var $nodeWidth=$node.outerWidth(true);
		if(screenWidth+scrollTop>offsetTop && scrollTop<offsetTop+$nodeWidth){
			return true;
		}else{
			return false;
		}
	}
</script>
</body>
</html>